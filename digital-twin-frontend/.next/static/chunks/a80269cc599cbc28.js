(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,60823,(e,t,o)=>{t.exports=e.r(64093)},44594,e=>{"use strict";var t=e.i(29196),o=e.i(43350),r=e.i(60823);let u=(0,o.createContext)(void 0);function l({children:e}){let[l,a]=(0,o.useState)(null),[n,s]=(0,o.useState)(null),[i,c]=(0,o.useState)(!0),h=(0,r.useRouter)();return(0,o.useEffect)(()=>{let e=setTimeout(()=>{try{let e=localStorage.getItem("auth_token"),t=localStorage.getItem("auth_user");if(console.log("Loading auth from localStorage:",{token:!!e,user:!!t}),e&&t){let o=JSON.parse(t);s(e),a(o),console.log("Auth loaded:",o)}}catch(e){console.error("Error loading auth state:",e)}c(!1)},0);return()=>clearTimeout(e)},[]),(0,t.jsx)(u.Provider,{value:{user:l,token:n,isLoading:i,isAuthenticated:!!n&&!!l,logout:()=>{console.log("Logging out user"),localStorage.removeItem("auth_token"),localStorage.removeItem("auth_user"),s(null),a(null),h.push("/login")}},children:e})}function a(){let e=(0,o.useContext)(u);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}e.s(["AuthProvider",()=>l,"useAuth",()=>a])}]);