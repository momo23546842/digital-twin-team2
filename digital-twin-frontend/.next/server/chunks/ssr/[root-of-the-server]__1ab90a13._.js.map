{"version":3,"sources":["../../../../../digital-twin-frontend/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts","../../../../../digital-twin-frontend/node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","../../../../../digital-twin-frontend/node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","../../../../../digital-twin-frontend/node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","../../../../../digital-twin-frontend/node_modules/next/src/server/route-modules/app-page/module.compiled.js","../../../../../digital-twin-frontend/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.ts","../../../../../digital-twin-frontend/src/lib/auth-context.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxRuntime\n","'use client';\r\n\r\nimport { createContext, useContext, useState, useEffect, ReactNode } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\n\r\ninterface User {\r\n  id: string;\r\n  email: string;\r\n  name: string;\r\n}\r\n\r\ninterface AuthContextType {\r\n  user: User | null;\r\n  token: string | null;\r\n  isLoading: boolean;\r\n  isAuthenticated: boolean;\r\n  logout: () => void;\r\n}\r\n\r\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\r\n\r\nexport function AuthProvider({ children }: { children: ReactNode }) {\r\n  const [user, setUser] = useState<User | null>(null);\r\n  const [token, setToken] = useState<string | null>(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const router = useRouter();\r\n\r\n  // Load auth state from localStorage on mount\r\n  useEffect(() => {\r\n    // Small delay to ensure client-side rendering\r\n    const timer = setTimeout(() => {\r\n      try {\r\n        const storedToken = localStorage.getItem('auth_token');\r\n        const storedUser = localStorage.getItem('auth_user');\r\n\r\n        console.log('Loading auth from localStorage:', { token: !!storedToken, user: !!storedUser });\r\n\r\n        if (storedToken && storedUser) {\r\n          const parsedUser = JSON.parse(storedUser);\r\n          setToken(storedToken);\r\n          setUser(parsedUser);\r\n          console.log('Auth loaded:', parsedUser);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error loading auth state:', error);\r\n      }\r\n\r\n      setIsLoading(false);\r\n    }, 0);\r\n\r\n    return () => clearTimeout(timer);\r\n  }, []);\r\n\r\n  const logout = () => {\r\n    console.log('Logging out user');\r\n    localStorage.removeItem('auth_token');\r\n    localStorage.removeItem('auth_user');\r\n    setToken(null);\r\n    setUser(null);\r\n    router.push('/login');\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider\r\n      value={{\r\n        user,\r\n        token,\r\n        isLoading,\r\n        isAuthenticated: !!token && !!user,\r\n        logout,\r\n      }}\r\n    >\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useAuth() {\r\n  const context = useContext(AuthContext);\r\n  if (!context) {\r\n    throw new Error('useAuth must be used within an AuthProvider');\r\n  }\r\n  return context;\r\n}\r\n"],"names":["module","exports","require","vendored","React","AppRouterContext","HooksClientContext","ServerInsertedHtml","process","env","NEXT_RUNTIME","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK","ReactJsxRuntime"],"mappings":"6CAAAA,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,YAAY,CAAEC,KAAK,+BCF9BJ,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,QAAW,CAACE,gBAAgB,+BCFvCL,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,QAAW,CAACG,kBAAkB,8BCFzCN,GAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,QAAW,CAACI,kBAAkB,+sBCwBjCP,EAAOC,OAAO,CAAGC,EAAQ,CAAA,CAAA,IAAA,gCC1BjCF,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,YAAY,CAAEW,eAAe,yCCAxC,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAgBA,IAAM,EAAc,CAAA,EAAA,EAAA,aAAA,AAAa,EAA8B,QAExD,SAAS,EAAa,UAAE,CAAQ,CAA2B,EAChE,GAAM,CAAC,EAAM,EAAQ,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAsB,MACxC,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MAC5C,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACrC,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,UAGxB,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KAER,IAAM,EAAQ,WAAW,KACvB,GAAI,CACF,IAAM,EAAc,aAAa,OAAO,CAAC,cACnC,EAAa,aAAa,OAAO,CAAC,aAIxC,GAFA,QAAQ,GAAG,CAAC,kCAAmC,CAAE,MAAO,CAAC,CAAC,EAAa,KAAM,CAAC,CAAC,CAAW,GAEtF,GAAe,EAAY,CAC7B,IAAM,EAAa,KAAK,KAAK,CAAC,GAC9B,EAAS,GACT,EAAQ,GACR,QAAQ,GAAG,CAAC,eAAgB,EAC9B,CACF,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,4BAA6B,EAC7C,CAEA,GAAa,EACf,EAAG,GAEH,MAAO,IAAM,aAAa,EAC5B,EAAG,EAAE,EAYH,CAAA,EAAA,EAAA,GAAA,EAAC,EAAY,QAAQ,CAAA,CACnB,MAAO,MACL,QACA,YACA,EACA,gBAAiB,CAAC,CAAC,GAAS,CAAC,CAAC,EAC9B,OAhBS,KACb,QAAQ,GAAG,CAAC,oBACZ,aAAa,UAAU,CAAC,cACxB,aAAa,UAAU,CAAC,aACxB,EAAS,MACT,EAAQ,MACR,EAAO,IAAI,CAAC,SACd,CAUI,WAEC,GAGP,CAEO,SAAS,IACd,IAAM,EAAU,CAAA,EAAA,EAAA,UAAA,AAAU,EAAC,GAC3B,GAAI,CAAC,EACH,MAAM,AAAI,CADE,KACI,+CAElB,OAAO,CACT","ignoreList":[0,1,2,3,4,5]}